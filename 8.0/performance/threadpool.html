



<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation">
      
      
        <meta name="author" content="Percona LLC">
      
      
        <link rel="canonical" href="https://docs.percona.com/percona-server/8.0/8.0/performance/threadpool.html">
      
      <link rel="icon" href="../_static/percona_favicon.ico">
      <meta name="generator" content="mkdocs-1.4.2, mkdocs-material-8.5.10">
    
    
      
        <title>Thread Pool - Percona Server for MySQL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.472b142f.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.08040f6c.min.css">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="https://unicons.iconscout.com/release/v3.0.3/css/line.css">
    
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css">
    
      <link rel="stylesheet" href="../css/percona.css">
    
      <link rel="stylesheet" href="../css/version-select.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      
  


  
  


  <script id="__analytics">function __md_analytics(){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-343802-3","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),document$.subscribe(function(){var a=document.forms.feedback;if(void 0!==a)for(var e of a.querySelectorAll("[type=submit]"))e.addEventListener("click",function(e){e.preventDefault();var t=document.location.pathname,e=this.getAttribute("data-md-value");ga("send","event","feedback","click",t,e),a.firstElementChild.disabled=!0;e=a.querySelector(".md-feedback__note [data-md-value='"+e+"']");e&&(e.hidden=!1)}),a.hidden=!1}),location$.subscribe(function(e){ga("send","pageview",e.pathname)})});var e=document.createElement("script");e.async=!0,e.src="https://www.google-analytics.com/analytics.js",document.getElementById("__analytics").insertAdjacentElement("afterEnd",e)}</script>

  
    <script>"undefined"!=typeof __md_analytics&&__md_analytics()</script>
  

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#thread-pool" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-component="outdated" hidden>
        
      </div>
    
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="https://percona.com/software/documentation" class="md-header__button md-logo" aria-label="Percona Server for MySQL" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis"><a href="https://www.percona.com/software/documentation">
            Percona Product Documentation
          </a></span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Thread Pool
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="percona-light" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="" type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3Z"/></svg>
            </label>
          
        
      </form>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/percona/psmysql-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/psmysql-docs
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../index.html" title="Percona Server for MySQL" class="md-nav__button md-logo" aria-label="Percona Server for MySQL" data-md-component="logo">
      
  <img src="../_static/percona-logo.svg" alt="logo">

    </a>
    Percona Server for MySQL
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/percona/psmysql-docs" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.2.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    percona/psmysql-docs
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../index.html" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Introduction
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Introduction" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Introduction
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../percona_xtradb.html" class="md-nav__link">
        The Percona XtraDB Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ps-versions-comparison.html" class="md-nav__link">
        List of features available in Percona Server for MySQL releases
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../feature_comparison.html" class="md-nav__link">
        Percona Server for MySQL Feature Comparison
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../changed_in_version.html" class="md-nav__link">
        Changed in Percona Server 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../xtabackup-versioning-scheme.html" class="md-nav__link">
        Xtabackup versioning scheme
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation.html" class="md-nav__link">
        Installing Percona Server for MySQL 8.0.29-21
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" >
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Post-Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Post-Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Post-Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/post-installation.html" class="md-nav__link">
        Post-Installation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          In-place upgrades
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="In-place upgrades" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          In-place upgrades
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_guide.html" class="md-nav__link">
        Percona Server for MySQL In-Place Upgrading Guide: From 5.7 to 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_using_percona_repos.html" class="md-nav__link">
        Upgrading using the Percona repositories
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_tokudb_myrocks.html" class="md-nav__link">
        Upgrading from Systems that Use the MyRocks or TokuDB Storage Engine and Partitioned Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upgrading_using_standalone_packages.html" class="md-nav__link">
        Upgrading using Standalone Packages
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Run in Docker
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Run in Docker" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Run in Docker
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker.html" class="md-nav__link">
        Running Percona Server for MySQL in a Docker Container
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../installation/docker-config.html" class="md-nav__link">
        Docker config
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Scalability
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Scalability" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Scalability
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../scalability/innodb_io.html" class="md-nav__link">
        Improved InnoDB I/O Scalability
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_8">
          Performance
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Performance" data-md-level="1">
        <label class="md-nav__title" for="__nav_8">
          <span class="md-nav__icon md-icon"></span>
          Performance
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="adaptive_network_buffers.html" class="md-nav__link">
        Adaptive Network Buffers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="aio_page_requests.html" class="md-nav__link">
        Multiple page asynchronous I/O requests
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Thread Pool
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="threadpool.html" class="md-nav__link md-nav__link--active">
        Thread Pool
      </a>
      
        

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#priority-connection-scheduling" class="md-nav__link">
    Priority connection scheduling
  </a>
  
    <nav class="md-nav" aria-label="Priority connection scheduling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#low-priority-queue-throttling" class="md-nav__link">
    Low priority queue throttling
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-of-long-network-waits" class="md-nav__link">
    Handling of Long Network Waits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-specific-information" class="md-nav__link">
    Version Specific Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-variables" class="md-nav__link">
    System Variables
  </a>
  
    <nav class="md-nav" aria-label="System Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread_pool_idle_timeout" class="md-nav__link">
    thread_pool_idle_timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_high_prio_mode" class="md-nav__link">
    thread_pool_high_prio_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_high_prio_tickets" class="md-nav__link">
    thread_pool_high_prio_tickets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_max_threads" class="md-nav__link">
    thread_pool_max_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_oversubscribe" class="md-nav__link">
    thread_pool_oversubscribe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_size" class="md-nav__link">
    thread_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_stall_limit" class="md-nav__link">
    thread_pool_stall_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-from-a-version-before-8014-to-8014-or-higher" class="md-nav__link">
    Upgrading from a version before 8.0.14 to 8.0.14 or higher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra_port" class="md-nav__link">
    extra_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra_max_connections" class="md-nav__link">
    extra_max_connections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status-variables" class="md-nav__link">
    Status Variables
  </a>
  
    <nav class="md-nav" aria-label="Status Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#threadpool_idle_threads" class="md-nav__link">
    Threadpool_idle_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threadpool_threads" class="md-nav__link">
    Threadpool_threads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-reading" class="md-nav__link">
    Other Reading
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="xtradb_performance_improvements_for_io-bound_highly-concurrent_workloads.html" class="md-nav__link">
        XtraDB Performance Improvements for I/O-Bound Highly-Concurrent Workloads
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="prefix_index_queries_optimization.html" class="md-nav__link">
        Prefix Index Queries Optimization
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="query_limit_records.html" class="md-nav__link">
        Limiting the Estimation of Records in a Query
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="jemalloc-profiling.html" class="md-nav__link">
        Jemalloc Memory Allocation Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="procfs-plugin.html" class="md-nav__link">
        The ProcFS plugin
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
      
      
      
      
        <label class="md-nav__link" for="__nav_9">
          Flexibility
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Flexibility" data-md-level="1">
        <label class="md-nav__title" for="__nav_9">
          <span class="md-nav__icon md-icon"></span>
          Flexibility
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlogging_replication_improvements.html" class="md-nav__link">
        Binlogging and replication improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/compressed_columns.html" class="md-nav__link">
        Compressed columns with dictionaries
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/extended_select_into_outfile.html" class="md-nav__link">
        Extended SELECT INTO OUTFILE/DUMPFILE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/extended_set_var.html" class="md-nav__link">
        Extended SET VAR Optimizer Hint
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/improved_memory_engine.html" class="md-nav__link">
        Improved MEMORY Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/log_warnings_suppress.html" class="md-nav__link">
        Suppress Warning Messages
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/binlog_space.html" class="md-nav__link">
        Limiting the disk space used by binary log files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/proxy_protocol_support.html" class="md-nav__link">
        Support for PROXY protocol
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/sequence_table.html" class="md-nav__link">
        SEQUENCE_TABLE(n) Function
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../flexibility/slowlog_rotation.html" class="md-nav__link">
        Slow Query Log Rotation and Expiration
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_10" type="checkbox" id="__nav_10" >
      
      
      
      
        <label class="md-nav__link" for="__nav_10">
          Reliability
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Reliability" data-md-level="1">
        <label class="md-nav__title" for="__nav_10">
          <span class="md-nav__icon md-icon"></span>
          Reliability
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/log_connection_error.html" class="md-nav__link">
        Too Many Connections Warning
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../reliability/innodb_corrupt_table_action.html" class="md-nav__link">
        Handle Corrupted Tables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_11" type="checkbox" id="__nav_11" >
      
      
      
      
        <label class="md-nav__link" for="__nav_11">
          Management
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Management" data-md-level="1">
        <label class="md-nav__title" for="__nav_11">
          <span class="md-nav__icon md-icon"></span>
          Management
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/udf_percona_toolkit.html" class="md-nav__link">
        Percona Toolkit UDFs
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/kill_idle_trx.html" class="md-nav__link">
        Kill Idle Transactions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/changed_page_tracking.html" class="md-nav__link">
        XtraDB changed page tracking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/enforce_engine.html" class="md-nav__link">
        Enforcing Storage Engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/innodb_expanded_fast_index_creation.html" class="md-nav__link">
        Expanded Fast Index Creation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/backup_locks.html" class="md-nav__link">
        Backup Locks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/audit_log_plugin.html" class="md-nav__link">
        Audit Log Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/start_transaction_with_consistent_snapshot.html" class="md-nav__link">
        Start transaction with consistent snapshot
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/extended_show_grants.html" class="md-nav__link">
        Extended SHOW GRANTS
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../management/utility_user.html" class="md-nav__link">
        Utility user
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      
      
      
        <label class="md-nav__link" for="__nav_12">
          Security
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Security" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Security
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/pam_plugin.html" class="md-nav__link">
        PAM Authentication Plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/simple-ldap.html" class="md-nav__link">
        Using Simple LDAP Authentication
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/simple-ldap-variables.html" class="md-nav__link">
        Simple LDAP Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/selinux.html" class="md-nav__link">
        Working with SELinux
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/apparmor.html" class="md-nav__link">
        Working with AppArmor
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/data-at-rest-encryption.html" class="md-nav__link">
        Data at Rest Encryption
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/using-keyring-plugin.html" class="md-nav__link">
        Using the keyring component or keyring plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/using-kmip.html" class="md-nav__link">
        Using the Key Management Interoperability Protocol (KMIP)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encryption-functions.html" class="md-nav__link">
        Encryption functions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/using-amz-kms.html" class="md-nav__link">
        Using the Amazon Key Management Service (AWS KMS)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/fido-authentication-plugin.html" class="md-nav__link">
        FIDO authentication plugin
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/rotating-master-key.html" class="md-nav__link">
        Rotating the Master Key
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-tables.html" class="md-nav__link">
        Encrypting File-Per-Table Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-tablespaces.html" class="md-nav__link">
        Encrypting a Schema or a General Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-system-tablespace.html" class="md-nav__link">
        Encrypting the System Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-temporary-files.html" class="md-nav__link">
        Encrypting Temporary Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-binlogs.html" class="md-nav__link">
        Encrypting Binary Log Files and Relay Log Files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-redo-log.html" class="md-nav__link">
        Encrypting the Redo Log files
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-undo-tablespace.html" class="md-nav__link">
        Encrypting the Undo Tablespace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-threads.html" class="md-nav__link">
        Working with Advanced Encryption Key Rotation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/encrypting-doublewrite-buffers.html" class="md-nav__link">
        Encrypting Doublewrite Buffers
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/verifying-encryption.html" class="md-nav__link">
        Verifying the Encryption for Tables, Tablespaces, and Schemas
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/ssl-improvement.html" class="md-nav__link">
        SSL Improvements
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/data-masking.html" class="md-nav__link">
        Data Masking
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../security/system-variables.html" class="md-nav__link">
        Server variables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      
      
      
        <label class="md-nav__link" for="__nav_13">
          Diagnostics
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Diagnostics" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Diagnostics
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/user_stats.html" class="md-nav__link">
        User Statistics
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/slow_extended.html" class="md-nav__link">
        Slow Query Log
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_show_status.html" class="md-nav__link">
        Extended Show Engine InnoDB Status
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/show_engines.html" class="md-nav__link">
        Show Storage Engines
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/process_list.html" class="md-nav__link">
        Process List
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/misc_info_schema_tables.html" class="md-nav__link">
        Misc. INFORMATION_SCHEMA Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/thread_based_profiling.html" class="md-nav__link">
        Thread Based Profiling
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/innodb_fragmentation_count.html" class="md-nav__link">
        InnoDB Page Fragmentation Counters
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/stacktrace.html" class="md-nav__link">
        Stacktrace
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../diagnostics/libcoredumper.html" class="md-nav__link">
        Libcoredumper
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      
      
      
        <label class="md-nav__link" for="__nav_14">
          Replication
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Replication" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Replication
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../replication/group-replication-flow-control.html" class="md-nav__link">
        Manage Group Replication flow control
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../replication/group-replication-system-variables.html" class="md-nav__link">
        Group replication system variables
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" >
      
      
      
      
        <label class="md-nav__link" for="__nav_15">
          Percona MyRocks
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Percona MyRocks" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          Percona MyRocks
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/index.html" class="md-nav__link">
        Percona MyRocks Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/install.html" class="md-nav__link">
        Percona MyRocks Installation Guide
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/added-features.html" class="md-nav__link">
        Updated Supported Features
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/limitations.html" class="md-nav__link">
        MyRocks Limitations
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/differences.html" class="md-nav__link">
        Differences between Percona MyRocks and Facebook MyRocks
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/information-schema-tables.html" class="md-nav__link">
        MyRocks Information Schema Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/variables.html" class="md-nav__link">
        MyRocks Server Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/status_variables.html" class="md-nav__link">
        MyRocks Status Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/gap_locks_detection.html" class="md-nav__link">
        Gap locks detection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/data_loading.html" class="md-nav__link">
        Data Loading
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../myrocks/zenfs.html" class="md-nav__link">
        Installing and configuring Percona Server for MySQL with ZenFS support
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_16" type="checkbox" id="__nav_16" >
      
      
      
      
        <label class="md-nav__link" for="__nav_16">
          TokuDB
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="TokuDB" data-md-level="1">
        <label class="md-nav__title" for="__nav_16">
          <span class="md-nav__icon md-icon"></span>
          TokuDB
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_intro.html" class="md-nav__link">
        TokuDB Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_installation.html" class="md-nav__link">
        TokuDB Installation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/using_tokudb.html" class="md-nav__link">
        Using TokuDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/fast_updates.html" class="md-nav__link">
        Fast Updates with TokuDB
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_files_and_file_types.html" class="md-nav__link">
        TokuDB files and file types
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_file_management.html" class="md-nav__link">
        TokuDB file management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_background_analyze_table.html" class="md-nav__link">
        TokuDB Background ANALYZE TABLE
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_variables.html" class="md-nav__link">
        TokuDB Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_status_variables.html" class="md-nav__link">
        TokuDB Status Variables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_fractal_tree_indexing.html" class="md-nav__link">
        TokuDB Fractal Tree Indexing
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_troubleshooting.html" class="md-nav__link">
        TokuDB Troubleshooting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_performance_schema.html" class="md-nav__link">
        TokuDB Performance Schema Integration
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/tokudb_faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/removing_tokudb.html" class="md-nav__link">
        Migrating and Removing the TokuDB storage engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../tokudb/toku_backup.html" class="md-nav__link">
        Percona TokuBackup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_17" type="checkbox" id="__nav_17" >
      
      
      
      
        <label class="md-nav__link" for="__nav_17">
          Release notes
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Release notes" data-md-level="1">
        <label class="md-nav__title" for="__nav_17">
          <span class="md-nav__icon md-icon"></span>
          Release notes
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/release-notes_index.html" class="md-nav__link">
        Percona Server for MySQL 8.0 Release notes
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/8.0.29-21.html" class="md-nav__link">
        Percona Server for MySQL 8.0.29-21 (2022-08-08)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.28-20.html" class="md-nav__link">
        Percona Server for MySQL 8.0.28-20 (2022-06-20)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.28-19.html" class="md-nav__link">
        Percona Server for MySQL 8.0.28-19 (2022-05-12)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.27-18.html" class="md-nav__link">
        Percona Server for MySQL 8.0.27-18 (2022-03-02)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.26-17.html" class="md-nav__link">
        Percona Server for MySQL 8.0.26-17 (2022-01-26)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.26-16.html" class="md-nav__link">
        Percona Server for MySQL 8.0.26-16 (2021-10-20)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.25-15.html" class="md-nav__link">
        Percona Server for MySQL 8.0.25-15 (2021-07-13)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.23-14.html" class="md-nav__link">
        Percona Server for MySQL 8.0.23-14 (2021-05-12)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.22-13.html" class="md-nav__link">
        Percona Server for MySQL 8.0.22-13 (2020-12-14)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.21-12.html" class="md-nav__link">
        Percona Server for MySQL 8.0.21-12 (2020-10-13)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.20-11.html" class="md-nav__link">
        Percona Server for MySQL 8.0.20-11 (2020-07-21)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.19-10.html" class="md-nav__link">
        Percona Server for MySQL 8.0.19-10 (2020-03-23)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.18-9.html" class="md-nav__link">
        Percona Server for MySQL 8.0.18-9
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.17-8.html" class="md-nav__link">
        Percona Server for MySQL 8.0.17-8
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.16-7.html" class="md-nav__link">
        Percona Server for MySQL 8.0.16-7
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.15-6.html" class="md-nav__link">
        Percona Server for MySQL 8.0.15-6
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.15-5.html" class="md-nav__link">
        Percona Server for MySQL 8.0.15-5
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.14.html" class="md-nav__link">
        Percona Server for MySQL 8.0.14
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.13-4.html" class="md-nav__link">
        Percona Server for MySQL 8.0.13-4
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.13-3.html" class="md-nav__link">
        Percona Server for MySQL 8.0.13-3
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../release-notes/Percona-Server-8.0.12-2rc1.html" class="md-nav__link">
        Percona Server for MySQL 8.0.12-2rc1
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_18" type="checkbox" id="__nav_18" >
      
      
      
      
        <label class="md-nav__link" for="__nav_18">
          References
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="References" data-md-level="1">
        <label class="md-nav__title" for="__nav_18">
          <span class="md-nav__icon md-icon"></span>
          References
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../upstream-bug-fixes.html" class="md-nav__link">
        List of upstream MySQL bugs fixed in Percona Server for MySQL 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ps-variables.html" class="md-nav__link">
        List of variables introduced in Percona Server for MySQL 8.0
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../development.html" class="md-nav__link">
        Development of Percona Server for MySQL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../trademark-policy.html" class="md-nav__link">
        Trademark policy
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../index_info_schema_tables.html" class="md-nav__link">
        Index of INFORMATION_SCHEMA Tables
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../faq.html" class="md-nav__link">
        Frequently Asked Questions
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../copyright.md" class="md-nav__link">
        None
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../glossary.html" class="md-nav__link">
        Glossary
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
   <label class="md-nav__title" for="__drawer">
    <a href="https://learn.percona.com/download-percona-server-8-0-manual" onclick="_gaq.push(['b._trackEvent', 'Percona Server', 'Download', 'Download Manual Percona Server']);" class="md-nav__link md-nav__link--active">
      Download PDF
    </a>
  </label> 
  </ul>
</nav>

                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  

<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#priority-connection-scheduling" class="md-nav__link">
    Priority connection scheduling
  </a>
  
    <nav class="md-nav" aria-label="Priority connection scheduling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#low-priority-queue-throttling" class="md-nav__link">
    Low priority queue throttling
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#handling-of-long-network-waits" class="md-nav__link">
    Handling of Long Network Waits
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#version-specific-information" class="md-nav__link">
    Version Specific Information
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#system-variables" class="md-nav__link">
    System Variables
  </a>
  
    <nav class="md-nav" aria-label="System Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#thread_pool_idle_timeout" class="md-nav__link">
    thread_pool_idle_timeout
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_high_prio_mode" class="md-nav__link">
    thread_pool_high_prio_mode
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_high_prio_tickets" class="md-nav__link">
    thread_pool_high_prio_tickets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_max_threads" class="md-nav__link">
    thread_pool_max_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_oversubscribe" class="md-nav__link">
    thread_pool_oversubscribe
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_size" class="md-nav__link">
    thread_pool_size
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#thread_pool_stall_limit" class="md-nav__link">
    thread_pool_stall_limit
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#upgrading-from-a-version-before-8014-to-8014-or-higher" class="md-nav__link">
    Upgrading from a version before 8.0.14 to 8.0.14 or higher
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra_port" class="md-nav__link">
    extra_port
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#extra_max_connections" class="md-nav__link">
    extra_max_connections
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#status-variables" class="md-nav__link">
    Status Variables
  </a>
  
    <nav class="md-nav" aria-label="Status Variables">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#threadpool_idle_threads" class="md-nav__link">
    Threadpool_idle_threads
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#threadpool_threads" class="md-nav__link">
    Threadpool_threads
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#other-reading" class="md-nav__link">
    Other Reading
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                

                <!-- Edit button -->
                
                  <a
                    href="https://github.com/percona/psmysql-docs/edit/8.0/docs/performance/threadpool.md"
                    title="Edit this page"
                    class="md-content__button md-icon"
                  >
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
                  </a>
                

                <!--
                  Hack: check whether the content contains a h1 headline. If it
                  doesn't, the page title (or respectively site name) is used
                  as the main headline.
                -->
                

                <!-- Markdown content -->
                <h1 id="thread-pool">Thread Pool<a class="headerlink" href="#thread-pool" title="Permanent link">&para;</a></h1>
<p><em>MySQL</em> executes statements using one thread per client connection. Once the number of connections increases past a certain point performance will degrade.</p>
<p>This feature enables the server to keep the top performance even with a large number of client connections by introducing a dynamic thread pool. By using the thread pool server would decrease the number of threads, which will then reduce the context switching and hot locks contentions. Using the thread pool will have the most effect with <code>OLTP</code> workloads (relatively short CPU-bound queries).</p>
<p>In order to enable the thread pool variable <a href="https://docs.percona.com/percona-server/5.7/performance/threadpool.html#thread-handling">thread_handling</a> should be set up to <code>pool-of-threads</code> value. This can be done by adding:</p>
<div class="highlight"><pre><span></span><code>thread_handling=pool-of-threads
</code></pre></div>
<p>Although the default values for the thread pool should provide good performance, additional tuning
can be performed with the dynamic system variables.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Current implementation of the thread pool is built in the server, unlike the upstream version which is implemented as a plugin. Another significant implementation difference is that this implementation doesnt try to minimize the number of concurrent transactions like the <code>MySQL Enterprise Threadpool</code>. Because of these differences, this implementation is not compatible with the upstream version.</p>
</div>
<h2 id="priority-connection-scheduling">Priority connection scheduling<a class="headerlink" href="#priority-connection-scheduling" title="Permanent link">&para;</a></h2>
<p>Even though thread pool puts a limit on the number of concurrently running queries, the number of open transactions may remain high, because connections with already started transactions are put to the end of the queue. Higher number of open transactions has a number of implications on the currently running queries. To improve the performance new <a href="#thread_pool_high_prio_tickets">thread_pool_high_prio_tickets</a> variable has been introduced.</p>
<p>This variable controls the high priority queue policy. Each new connection is assigned this many tickets to enter the high priority queue. Whenever a query has to be queued to be executed later because no threads are available, the thread pool puts the connection into the high priority queue if the following conditions apply:</p>
<ul>
<li>
<p>The connection has an open transaction in the server.</p>
</li>
<li>
<p>The number of high priority tickets of this connection is non-zero.</p>
</li>
</ul>
<p>If both the above conditions hold, the connection is put into the high priority queue and its tickets value is decremented. Otherwise the connection is put into the common queue with the initial tickets value specified with this option.</p>
<p>Each time the thread pool looks for a new connection to process, first it checks the high priority queue, and picks connections from the common queue only when the high priority one is empty.</p>
<p>The goal is to minimize the number of open transactions in the server. In many cases it is beneficial to give short-running transactions a chance to commit faster and thus deallocate server resources and locks without waiting in the same queue with other connections that are about to start a new transaction, or those that have run out of their high priority tickets.</p>
<p>The default thread pool behavior is to always put events from already started transactions into the high priority queue, as we believe that results in better performance in vast majority of cases.</p>
<p>With the value of <code>0</code>, all connections are always put into the common queue, i.e. no priority scheduling is used as in the original implementation in <em>MariaDB</em>. The higher is the value, the more chances each transaction gets to enter the high priority queue and commit before it is put in the common queue.</p>
<p>In some cases it is required to prioritize all statements for a specific connection regardless of whether they are executed as a part of a multi-statement transaction or in the autocommit mode. Or vice versa, some connections may require using the low priority queue for all statements unconditionally. To implement this new <a href="#thread_pool_high_prio_mode">thread_pool_high_prio_mode</a> variable has been introduced in <em>Percona Server for MySQL</em>.</p>
<h3 id="low-priority-queue-throttling">Low priority queue throttling<a class="headerlink" href="#low-priority-queue-throttling" title="Permanent link">&para;</a></h3>
<p>One case that can limit thread pool performance and even lead to deadlocks under high concurrency is a situation when thread groups are oversubscribed due to active threads reaching the oversubscribe limit, but all/most worker threads are actually waiting on locks currently held by a transaction from another connection that is not currently in the thread pool.</p>
<p>What happens in this case is that those threads in the pool that have marked themselves inactive are not accounted to the oversubscribe limit. As a result, the number of threads (both active and waiting) in the pool grows until it hits <a href="#thread_pool_max_threads">thread_pool_max_threads</a> value. If the connection executing the transaction which is holding the lock has managed to enter the thread pool by then, we get a large (depending on the <a href="#thread_pool_max_threads">thread_pool_max_threads</a> value) number of concurrently running threads, and thus, suboptimal performance as a result. Otherwise, we get a deadlock as no more threads can be created to process those transaction(s) and release the lock(s).</p>
<p>Such situations are prevented by throttling the low priority queue when the total number of worker threads (both active and waiting ones) reaches the oversubscribe limit. That is, if there are too many worker threads, do not start new transactions and create new threads until queued events from the already started transactions are processed.</p>
<h2 id="handling-of-long-network-waits">Handling of Long Network Waits<a class="headerlink" href="#handling-of-long-network-waits" title="Permanent link">&para;</a></h2>
<p>Certain types of workloads (large result sets, BLOBs, slow clients) can have longer waits on network I/O (socket reads and writes). Whenever server waits, this should be communicated to the Thread Pool, so it can start new query by either waking a waiting thread or sometimes creating a new one. This implementation has been ported from <em>MariaDB</em> patch MDEV-156.</p>
<h2 id="version-specific-information">Version Specific Information<a class="headerlink" href="#version-specific-information" title="Permanent link">&para;</a></h2>
<ul>
<li>8.0.12-1: <code>Thread Pool</code> feature was ported from <em>Percona Server for MySQL</em> 5.7.</li>
</ul>
<h2 id="system-variables">System Variables<a class="headerlink" href="#system-variables" title="Permanent link">&para;</a></h2>
<h3 id="thread_pool_idle_timeout"><code>thread_pool_idle_timeout</code><a class="headerlink" href="#thread_pool_idle_timeout" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>Yes</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>60 (seconds)</td>
</tr>
</tbody>
</table>
<p>This variable can be used to limit the time an idle thread should wait before exiting.</p>
<h3 id="thread_pool_high_prio_mode"><code>thread_pool_high_prio_mode</code><a class="headerlink" href="#thread_pool_high_prio_mode" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global, Session</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>Yes</td>
</tr>
<tr>
<td>Data type:</td>
<td>String</td>
</tr>
<tr>
<td>Default value:</td>
<td><code>transactions</code></td>
</tr>
<tr>
<td>Allowed values:</td>
<td><code>transactions</code>, <code>statements</code>, <code>none</code></td>
</tr>
</tbody>
</table>
<p>This variable is used to provide more fine-grained control over high priority scheduling either globally or per connection.</p>
<p>The following values are allowed:</p>
<ul>
<li>
<p><code>transactions</code> (the default). In this mode only statements from already started transactions may go into the high priority queue depending on the number of high priority tickets currently available in a connection (see thread_pool_high_prio_tickets).</p>
</li>
<li>
<p><code>statements</code>. In this mode all individual statements go into the high priority queue, regardless of connections transactional state and the number of available high priority tickets. This value can be used to prioritize <code>AUTOCOMMIT</code> transactions or other kinds of statements such as administrative ones for specific connections. Note that setting this value globally essentially disables high priority scheduling, since in this case all statements from all connections will use a single queue (the high priority one)</p>
</li>
<li>
<p><code>none</code>. This mode disables high priority queue for a connection. Some connections (e.g. monitoring) may be insensitive to execution latency and/or never allocate any server resources that would otherwise impact performance in other connections and thus, do not really require high priority scheduling. Note that setting thread_pool_high_prio_mode to <code>none</code> globally has essentially the same effect as setting it to <code>statements</code> globally: all connections will always use a single queue (the low priority one in this case).</p>
</li>
</ul>
<h3 id="thread_pool_high_prio_tickets"><code>thread_pool_high_prio_tickets</code><a class="headerlink" href="#thread_pool_high_prio_tickets" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global, Session</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>Yes</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>4294967295</td>
</tr>
</tbody>
</table>
<p>This variable controls the high priority queue policy. Each new connection is assigned this many tickets to enter the high priority queue. Setting this variable to <code>0</code> will disable the high priority queue.</p>
<h3 id="thread_pool_max_threads"><code>thread_pool_max_threads</code><a class="headerlink" href="#thread_pool_max_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>Yes</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>100000</td>
</tr>
</tbody>
</table>
<p>This variable can be used to limit the maximum number of threads in the pool. Once this number is reached no new threads will be created.</p>
<h3 id="thread_pool_oversubscribe"><code>thread_pool_oversubscribe</code><a class="headerlink" href="#thread_pool_oversubscribe" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>Yes</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>3</td>
</tr>
</tbody>
</table>
<p>The higher the value of this parameter the more threads can be run at the same time, if the values is lower than <code>3</code> it could lead to more sleeps and wake-ups.</p>
<h3 id="thread_pool_size"><code>thread_pool_size</code><a class="headerlink" href="#thread_pool_size" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>Yes</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>Number of processors</td>
</tr>
</tbody>
</table>
<p>This variable can be used to define the number of threads that can use the CPU at the same time.</p>
<h3 id="thread_pool_stall_limit"><code>thread_pool_stall_limit</code><a class="headerlink" href="#thread_pool_stall_limit" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>No</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>500 (ms)</td>
</tr>
</tbody>
</table>
<p>The number of milliseconds before a running thread is considered stalled. When this limit is reached thread pool will wake up or create another thread. This is being used to prevent a long-running query from monopolizing the pool.</p>
<h3 id="upgrading-from-a-version-before-8014-to-8014-or-higher">Upgrading from a version before 8.0.14 to 8.0.14 or higher<a class="headerlink" href="#upgrading-from-a-version-before-8014-to-8014-or-higher" title="Permanent link">&para;</a></h3>
<p>Starting with 8.0.14, <em>Percona Server for MySQL</em> uses the upstream implementation of the admin_port. The variables <a href="#extra_port">extra_port</a> and <a href="#extra_max_connections">extra_max_connections</a> are removed and not supported. It is essential to remove the <code>extra_port</code> and <code>extra_max_connections</code> variables from your configuration file before you attempt to upgrade from a release before 8.0.14 to <em>Percona Server for MySQL</em> version 8.0.14 or higher. Otherwise, a server produces a boot error and refuses to start.</p>
<div class="admonition admonition">
<p class="admonition-title">See also</p>
<p>MySQL Documentation:</p>
<ul>
<li><a href="https://dev.mysql.com/doc/refman/8.0/en/server-system-variables.html#sysvar_admin_port">admin_port</a></li>
</ul>
</div>
<h3 id="extra_port"><code>extra_port</code><a class="headerlink" href="#extra_port" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>No</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>0</td>
</tr>
</tbody>
</table>
<p>The varible was removed in <a href="../release-notes/Percona-Server-8.0.14.html#id1">Percona Server for MySQL 8.0.14</a>. This variable can be used to specify an additional port that <em>Percona Server for MySQL</em> will listen on. This can be used in case no new connections can be established
due to all worker threads being busy or being locked when <code>pool-of-threads</code>
feature is enabled. To connect to the extra port the following command can be
used:</p>
<div class="highlight"><pre><span></span><code>mysql --port<span class="o">=</span><span class="s1">&#39;extra-port-number&#39;</span> --protocol<span class="o">=</span>tcp
</code></pre></div>
<h3 id="extra_max_connections"><code>extra_max_connections</code><a class="headerlink" href="#extra_max_connections" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Command-line:</td>
<td>Yes</td>
</tr>
<tr>
<td>Config file:</td>
<td>Yes</td>
</tr>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Dynamic:</td>
<td>No</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
<tr>
<td>Default value:</td>
<td>1</td>
</tr>
</tbody>
</table>
<p>The varible was removed in <a href="../release-notes/Percona-Server-8.0.14.html#id1">Percona Server for MySQL 8.0.14</a>. This variable can be used to specify the maximum allowed number of connections
plus one extra <code>SUPER</code> users connection on the extra_port. This
can be used with the extra_port variable to access the server in
case no new connections can be established due to all worker threads being busy
or being locked when <code>pool-of-threads</code> feature is enabled.</p>
<h2 id="status-variables">Status Variables<a class="headerlink" href="#status-variables" title="Permanent link">&para;</a></h2>
<h3 id="threadpool_idle_threads"><code>Threadpool_idle_threads</code><a class="headerlink" href="#threadpool_idle_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
</tbody>
</table>
<p>This status variable shows the number of idle threads in the pool.</p>
<h3 id="threadpool_threads"><code>Threadpool_threads</code><a class="headerlink" href="#threadpool_threads" title="Permanent link">&para;</a></h3>
<table>
<thead>
<tr>
<th>Option</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Scope:</td>
<td>Global</td>
</tr>
<tr>
<td>Data type:</td>
<td>Numeric</td>
</tr>
</tbody>
</table>
<p>This status variable shows the number of threads in the pool.</p>
<h2 id="other-reading">Other Reading<a class="headerlink" href="#other-reading" title="Permanent link">&para;</a></h2>
<ul>
<li>
<p><a href="https://kb.askmonty.org/en/threadpool-in-55/">Thread pool in MariaDB 5.5</a></p>
</li>
<li>
<p><a href="http://mikaelronstrom.blogspot.com/2011_10_01_archive.html">Thread pool implementation in Oracle MySQL</a></p>
</li>
</ul>

                
<div class="md-relbar2__inner md-grid">
<div class="md-content">
  <article class="md-content__inner md-typeset" role="main">    
    <h4>Contact Us </h4>
       <p>For free technical help, visit the Percona <a class="reference external" href="https://forums.percona.com/c/mysql-mariadb/percona-server-for-mysql-8-0/20" target="_blank">Community Forum</a>.<br>
        <p>To report bugs or submit feature requests, open a <a class="reference external" href="https://jira.percona.com/projects/PS/issues/" target="_blank">JIRA</a> ticket.<br>
         <p>For paid <a class="reference external" href="https://www.percona.com/services/support"> support </a> and <a class="reference external" href="https://www.percona.com/services/managed-services"> managed </a> or <a class="reference external" href="https://www.percona.com/services/consulting">consulting services </a>, contact <a class="reference external" href="https://www.percona.com/about-percona/contact" target="_blank">Percona Sales</a>.</p>
 </article>
</div>
</div>

                <!-- Last update of source file -->
                
                  
                    <hr>
<div class="md-source-file">
  <small>
    
      Last update:
      2022-11-08
    
  </small>
</div>
                  
                
              
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var tab,labels=set.querySelector(".tabbed-labels");for(tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </a>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="aio_page_requests.html" class="md-footer__link md-footer__link--prev" aria-label="Previous: Multiple page asynchronous I/O requests" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Multiple page asynchronous I/O requests
            </div>
          </div>
        </a>
      
      
        
        <a href="xtradb_performance_improvements_for_io-bound_highly-concurrent_workloads.html" class="md-footer__link md-footer__link--next" aria-label="Next: XtraDB Performance Improvements for I/O-Bound Highly-Concurrent Workloads" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              XtraDB Performance Improvements for I/O-Bound Highly-Concurrent Workloads
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Percona LLC, &#169; 2022
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "..", "features": ["search.highlight", "navigation.top", "content.tabs.link"], "search": "../assets/javascripts/workers/search.16e2a7d4.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../assets/javascripts/bundle.d6c3db9e.min.js"></script>
      
        <script src="../js/version-select.js"></script>
      
    
  </body>
</html>